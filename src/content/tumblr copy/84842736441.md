# MODx, Opera и бесконечное сохранение

Т.к. Хром начал неистово тормозить на нетбуке жены и на моем старичке
макбуке, было принято решение часть работы перенести в Оперу.

В работе с MODx обнаружился баг в ExtJS, который не исправляется уже
долгое время, но и мешает работать.

> По мне неясным причинам (если кто-то значет истинную причину и почему
> ее не устраняют — скажите, буду очень благодарен), при использовании
> Opera для администратировании сайта на MODX Revolution в момент
> сохранения ресурса появляется окно «вечной» загрузки.
>
> Это окно можно убрать одним способом — обновив страницу. А так как
> административная часть работает по принципам «AJAX» это очень
> замедляет работу.
>
> [Artemeey](http://habrahabr.ru/post/133757/) на Habrahabr.ru

В статье автор предлагал решение, которое я немного доработал
напильником, чтобы не лишать администраторов с другими браузерами
привычного поведения админки MODx.

В файле manager/assets/ext3/ext-all.js находим текст  

    if(!c){throw {message:"JsonReader.read: Json object not found"}}

Его успешно заменяем на

    if(!c){if(Ext.isOpera){return 1;}else{throw {message:"JsonReader.read: Json object not found"}}}

### Обратите внимание

> …после такого изменения, данные об обновлении страницы не поступят в
> админку. Другими словами, например, после обновления заголовка
> страницы, заголовок страницы в дереве ресурсов не обновится (хотя и
> тут я вижу свой плюс, это дерево не будет каждый раз обновляться,
> приостаналвивая процесс работы). При необходимости нажмите на
> соответствующую кнопку в разделе «Ресурсы» (Обновить дерево). Также в
> модуле Gallery, новые фотографии не будут отображены, зато страница не
> зависнет и все фото будут успешно загужены, хотя и сразу не
> отобразятся в области просмотра миниатюр внутри альбома.

<span id="timestamp"> January 15th, 2013 5:24pm </span> <span
class="tag">Blog</span>
