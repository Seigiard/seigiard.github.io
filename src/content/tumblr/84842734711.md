# Beautypo — форматтер текста для LiveStreet

Написание статей в LS — дело неудобное и неблагодарное.

Я вижу, как использование тэгов заставляет людей мучаться при написании
статей. Как приходится объяснять, как вставить картинку. Как приходится
учить, как вставить видео с тытрубы.

Идеальный пример работы с текстом — это редактор в e2. Простой
синтаксис, уникальная поддержка принципа «вставил ссылку — получил
результат», сохранение и прочая красота.

Вдохновившись e2, WikiFormatter и Neasden, я потратил рождественские
выходные на написание своего форматтера для LS — «Beautypo».

### Начинка

-   За основу был взят язык разметки Markdown
-   Использовались идеи, заложенные **Ильей Бирманом** в Neasden. Был
    написан собственный обработчик ссылок, чтобы превращать их в
    картинки, галереи или видео
-   Для красоты текста подключил немного переработанный
    [типограф](http://ecto.ru/projects/typo/) от **Максима Попова**.
    Висячую пунктуацию пока не включал, ждет своего часа.
-   Также добавил [класс для расстановки
    переносов](http://quittance.ru/blog/index.php?category=6) от
    **Сергея Куракина**.
-   И спасибо **Артему Поликарпову**, который разрешил использовать
    «[Фотораму](http://fotoramajs.com/)» в нашем
    [проекте](http://capoeira.in).

Плагин переписывался минимум три раза с нуля, меняясь в архитектуре и
принципах работы, будет дорабатываться и впредь.

**Upd 2012-01-12:** Почему-то, при отправке личных сообщений тема
сообщения также пропускается через $this-&gt;Parse\_Text(), что приводит
к странному результату. Пришлось делать проверку на то, является ли
поступивший текст многострочным, имеет ли тэги и разметку, чтобы либо
отправить его в обработку, либо вернуть неизмененным.

### Планы

-   Универсальный js-плагин для показа видео с YouTube, Vimeo и, если
    повезет, вКонтакте.
-   Висячая пунктуация
-   Горячие клавиши
-   TidyHTML
-   Ввиду наличия проблем в Markdown при обработке строк типа
    /path/to/some/interesting/file хотелось бы заменить Markdown
    собственной разработкой.

<span id="timestamp"> January 11th, 2013 6:26pm </span> <span
class="tag">Blog</span>
