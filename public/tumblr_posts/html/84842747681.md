# GT9001 и SetCPU

После [установки
MIUI](http://seigiard.com/post/84842746436/miui-5-samsung-gt-i9001-galaxy-s-plus)
задался вопросом создания профилей для SetCPU, чтобы при выключенном
экране батарейку экономило, а при включенном все летало.

Приняв предложение определить аппарат по-умолчанию, я был удивлен
выбором режимов процессора (Governors) и планировщиков для телефона (I/O
Schedulers). На стоковой прошивке такого не было.

Для определения, кто есть кто, воспользуемся [темой на
4pda.ru](http://4pda.ru/forum/index.php?showtopic=288249&st=180#entry14113495)

## Governors

> Итак, governor - это программа, которая управляет частотой процессора.
> Как можно предположить из названия, эта программа определяет когда
> работать процессору на максимальной мощности/частоте, когда на
> минимальной или на средних частотах и как быстро переключаться от
> минимальных частот на максимальные, должен ли процессор работать на
> пределе стабильности и обеспечивать плавность работы всей системы.
> Должен ли в простое процессор сбрасывать частоту до 200 Mhz для
> сохранения заряда батареи.
>
> Это и многое другое и есть - Governors.

### Список Governors, который отображаются на моем SGS+:

1.  **Ondemand**  
    Ondemand - выбор по-умолчанию из-за сбалансированы настроек, которые
    предлагают хороший компромисс между расходом батареи и
    производительностью. Однако, у него нет профиля для спящего режима и
    он немного проигрывает в производительности для смартфонов.
2.  **OndemandX**  
    Улучшенная версия Ondemand, с профилем при сне.
3.  **Intellidemand**  
    Основан на Ondemand. Ведёт себя в зависимости от GPU. Когда GPU
    загружен (игры, карты и т.д.) Intellidemand ведет себя как Ondemand.
    Когда GPU не загружен или умеренно загружен, Intellidemand
    ограничивает максимальную частоту в зависимости от частоты для
    устройства/ядра для экономии батареи.
4.  **Conservative**  
    Conservative - это замедленный Ondemand, когда дело касается
    управлением частоты процессора. Например, когда вы включите телефон
    и начнёте с ним работать, Ondemand увеличит частоту до тех пора пока
    она не достигнет максимума на скорости «х». Conservative - в этой же
    ситуации сделает тоже самое, но скорость будет «х/2». Чем больше
    увеличивается частота, тем больше идёт расход батареи. Подводя итог,
    можно сказать, что Conservative меньше подходит для
    производительности и больше для сохранения батареи.
5.  **Interactive**  
    Если Conservative - медленный аналог Ondemand, то Interactive -
    быстрый. Подъём частоты происходит немного быстрее, т.ч. работа
    телефона будет казаться немного быстрее с небольшим увеличением
    расхода батареи. Это один из популярных профилей за прошедший год.
6.  **InteractiveX**  
    Как видно из названия, это Interactive с некоторыми модификациями от
    imoseyon. Теперь в место того, что бы использовать «грязный» профиль
    «SetCPU» для удержания минимальной частоты. Когда телефон в режиме
    ожидания, этот профиль будет делать тоже самое, только правильно и с
    лучшем подъёмом частоты от минимума к максимуму, когда телефон будет
    просыпаться. В итоге, это профиль с производительностью Interactive
    и меньшим расходом батареи.
7.  **Powersave**  
    Powersave - выставляет максимальную частоту равную минимальной. Не
    подходит для повседневного использования по понятным причинам. Лучше
    использовать «SetCPU» «screen-off»-профиль в комбинации с Ondemand.
8.  **Performance**  
    Если Powersave профиль принять за «Инь», то это «Янь». Он
    устанавливает минимальную частоту равную максимальной. Таким образом
    телефон всегда работает на максимальной производительности. Обычно
    это используют с профилями «SetCPU» на случай зарядки или
    подключения к компьютеру. По понятным причинам не может
    использоваться повседневно.
9.  **SmartassV2**  
    Smartass основан на Interactive, но некоторыми модификациями, а так
    же встроенными профилями. А SmartassV2 основан на Smartass.
    Выставляет оптимальную частоту для процессора. Производительность
    выше, энергопотребление ниже.
10. **BrazilianWax**  
    Тот же SmartassV2, но с некоторыми дополнениями. Быстрое
    понижение/повышение частоты процессора, но из-за этого батарея
    «тает» на глазах.

А тут у нас режимы для разработчиков.

1.  **Lionheart**  
    Lionheart - основан на Samsung Update3 Source. Очень быстрое
    понижение и повышение частоты процессора, но это сказывается на
    батарею.
2.  **Luzactive**  
    Luzactive - модифицированная версия Ondemand, с возможностью,
    разработчикам ядра, указывать минимальное время задержки до
    повышения/понижения частоты процессора. Так же позволяет указывать
    максимальную частоту при выключенном экране.
3.  **Hyper**  
    Основан на Ondemand с добавлением некоторых фишек, которые не были
    внедрены в Ondemand. Максимальная частота в спящем режиме — 500Mhz.
4.  **Adaptive**  
    This allows you to get a full dynamic cpu frequency capable system
    by simply loading your cpufreq low-level hardware driver, using the
    ‘adaptive’ governor for latency-sensitive workloads and demanding
    performance.

### Итог :

Батарея: 1ое место — Smartass2, 2ое место — InteractiveX, 3е место —
Intellidemand  
Производительность: SmartassV2, BrazilianWax

## I/O Schedulers

> Планировщик операций Ввод/Вывод (I/O Scheduler) - этот термин
> используется в компьютерной системе для определения порядка блоков
> операций ввода/вывода, которые будут добавлены в систему хранения
> данных. I/O планировщик иногда называют «дисковым планировщиком».
>
> I/O планировщики могут иметь множество назначений, в зависимости от
> задачи I/O планировщика. Некоторые распространённые задачи:  
> - для сокращения времени, затрачиваемого для поиска данных на
> накопителе.  
> - для изменения приоритета процессов операций ввода/вывода.  
> - для распределения нагрузки накопителя разными процессами.  
> - для гарантий того, что некоторые процессы будут выполнены до
> определённого срока.
>
> Тут не так много можно предложить, когда дело доходи до I/O
> планировщиков. На первый взгляд нет такой гибкости настроек, как у
> Governors, но поверьте мне там есть, что покрутить. К примеру, одно из
> улучшений, с которым вы сталкиваетесь, связанно с открытием и
> закрытием приложений.

### Список планировщиков, который отображаются на моем SGS+:

1.  **Noop**  
    Noop - на самом деле не так плох. Это просто I/O планировщик и когда
    дело касается андроида, чем проще, тем лучше.
2.  **CFQ**  
    Ну что же, CFQ для I/O планировщиков сродни Ondemand для Governors.
    Он самый сбалансированный и нацелен на производительность в
    большинстве случаев. Однако, в андроиде некоторые вещи работают
    иначе, поэтому это не самый подходящий I/O планировщик.
3.  **BFQ**  
    Он основан на CFQ, но уступает в производительности VR.
4.  **Deadline**  
    Deadline — это, на самом деле, достаточно популярный наряду с BFQ.
    Однако, даже не смотря на то, что он лучше CFQ для аднроид
    устройств, он всё же проигрывает в сравнение с VR.
5.  **VR**  
    VR — это хороший I/O планировщик с элементами «ограничения по
    времени». Возможно лучший для MTD андроид устройств, так же он
    используется известных ядрах, к примеру в IntersectRaven для Nexus
    One. Не исключено, что это единственный планировщик, который может
    набрать максимальное значение в тестах, но так же и самый не
    стабильный. Его производительность не стабильна, она может показать
    максимум или опуститься ниже плинтуса. Но когда он работает на
    пределе, он самый лучший.
6.  **ROW**  
    Описания не нашел
7.  **SIO**  
    Описания не нашел

### Итог:

Производительность: VR, BFQ, Deadline, Noop  
Надёжность: Noop

## Личный опыт

Выбрал для включенного экрана диапазон 1824-768, «SmartassV2» и «v2».
При выключенном экране диапазон 768-368, «SmartassV2» и «noop». Полет
нормальный.

<span id="timestamp"> June 17th, 2013 4:21am </span> <span
class="tag">Blog</span> <span class="tag">Samsung</span>
